<!-- .slide: data-state="contrasted" -->
<h1>#3 WebApp</h1>
<p>@@@</p>
<p><img src="images/webapp.png" alt=""></p>
<p>@@@</p>
<pre><code class="language-bash">PORT=3000 npm start

# static -p ${PORT:-5000} --gzip dist/
</code></pre>
<p>@@@</p>
<h2 id="stdin-env-variables"><code>stdin</code> = env variables</h2>
<p>@@@</p>
<h2 id="stdout-i-o"><code>stdout</code> = i/o</h2>
<p>HTTP responses.</p>
<p>@@@</p>
<h2 id="stderr-varies"><code>stderr</code> = <em>varies</em></h2>
<p>HTTP error codes, SEGFAULT, network misconfiguration.</p>
<p>@@@</p>
<h2 id="state-varies">State = <em>varies</em></h2>
<p>In memory, data store, ephemeral files.</p>
<pre><code>
Nothing guarantees its integrity.

@@@

## Reproducibility = *should*

Same args should produce same result. Depends of integrity.

@@@

## `npm install`

Cannot be guaranteed.

</code></pre>
<p>Package version can be deleted, semver madness, registry can be down.</p>
<p>@@@</p>
<h2 id="npm-shrinkwrap"><code>npm shrinkwrap</code></h2>
<p>Guarantees exact same version.</p>
<p>@@@</p>
<h2 id="npm-pack"><code>npm pack</code></h2>
<p>Guarantees exact same artefacts.</p>
