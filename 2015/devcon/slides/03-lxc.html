<!-- .slide: data-state="contrasted" -->
<h2 id="enters-lxc">Enters <strong>LXC</strong></h2>
<p>(circa 2008)</p>
<p>@@@</p>
<h2 id="lxc-wraps-an-app-and-an-os-system-in-a-rootfs-partition">LXC wraps an <em>app</em> and an <em>OS system</em> in a <em>rootfs</em> partition</h2>
<p>@@@</p>
<pre><code class="language-bash"># build.sh
$ lxc-create -t ubuntu -n nodejs-app --release trusty
$ lxc-start -n nodejs-app --daemon
$ cp ./src /var/lib/lxc/nodejs-app/rootfs
$ lxc-attach -n nodejs-app

$$ apt-get install nodejs -y
$$ npm install
^A^D

$ lxc-stop -n nodejs
</code></pre>
<p>@@@</p>
<h2 id="from-the-host-perspective">From the <em>host</em> perspective</h2>
<pre><code class="language-bash">docker@default:~$ ps fx
  PID TTY      STAT   TIME COMMAND
    2 ?        S      0:00 [kthreadd]
    3 ?        S      0:01  \_ [ksoftirqd/0]
    5 ?        S&lt;     0:00  \_ [kworker/0:0H]
    7 ?        S      0:00  \_ [rcu_sched]
    8 ?        S      0:00  \_ [rcu_bh]
    9 ?        S      0:00  \_ [migration/0]
   10 ?        S&lt;     0:00  \_ [khelper]
  987 ?        S      0:00 ntpd -d -n -p pool.ntp.org
…
19086 pts/0    Ss+    0:00 /bin/sh -c npm start
19115 pts/0    Sl+    0:00  \_ npm
19124 pts/0    S+     0:00      \_ sh -c static -p ${PORT:-5000} dist/
19125 pts/0    Sl+    0:00          \_ node /app/node_modules/.bin/static -p 5000 dist/
…
</code></pre>
<p>@@@</p>
<h2 id="from-the-container-perspective">From the <em>container</em> perspective</h2>
<pre><code class="language-bash">app@aa05e05fc3ae:~$ ps fx
  PID TTY      STAT   TIME COMMAND
    1 ?        Ss+    0:00 /bin/sh -c npm start
   28 ?        Sl+    0:00 npm
   37 ?        S+     0:00  \_ sh -c static -p ${PORT:-5000} dist/
   38 ?        Sl+    0:00      \_ node /app/node_modules/.bin/static -p 5000 dist/
</code></pre>
<p>@@@</p>
<h2 id="one-benefit-self-contained">One benefit: <strong>self contained</strong></h2>
<p>Container is not aware of its parent host.</p>
<p>@@@</p>
<h2 id="but-not-trans-portable">But <em>not (trans)portable</em></h2>
